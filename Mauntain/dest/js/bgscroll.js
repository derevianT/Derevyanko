!function(o){o.fn.bgscroll=function(i){var t=o.extend({bgpositionx:50,direction:"bottom",debug:!1,min:0,max:100},i),n=o(document).height()-o(window).height(),s=n-(this.offset().top+this.height());this.offset().top<n&&(s=0);var e=this.offset().top+this.height();if(o(window).scrollTop()>s&&o(window).scrollTop()<e){var h=(o(window).scrollTop()-s)/(e-s)*100;"top"==t.direction&&(h=100-h),h>t.max&&(h=t.max),h<t.min&&(h=t.min),t.debug&&console.log("Element background position: "+h+" %")}return this.css({backgroundPosition:t.bgpositionx+"% "+h+"%"})}}(jQuery);